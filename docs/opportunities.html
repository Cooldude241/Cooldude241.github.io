<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Opportunities</title>
  <style>
    body { font-family: sans-serif; margin: 20px; background-color: #f0f0f0; }
    h1 { text-align: center; color: #333; }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr); /* Changed to 3 columns */
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .square {
      position: relative;
      background-size: cover;
      background-position: center;
      height: 200px;
      cursor: pointer;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s ease-in-out;
      overflow: hidden;
    }
    .square:hover {
      transform: translateY(-5px);
    }
    .square-content {
      background: rgba(0, 0, 0, 0.6);
      color: white;
      padding: 10px;
      position: absolute;
      bottom: 0;
      width: 100%;
      box-sizing: border-box;
      font-weight: bold;
      text-align: center;
    }
    .popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 1000;
    }
    .popup.active {
      opacity: 1;
      pointer-events: auto;
    }
    .popup-content {
      background: white;
      padding: 30px;
      border-radius: 10px;
      text-align: center;
      max-width: 700px;
      width: 90%;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      transform: scale(0.9);
      transition: transform 0.3s ease-in-out;
    }
    .popup.active .popup-content {
      transform: scale(1);
    }
    .popup h2 {
      margin-top: 0;
      color: #333;
    }
    .popup img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .popup p {
      color: #555;
      line-height: 1.6;
      margin-bottom: 20px;
    }
    .close {
      cursor: pointer;
      margin-top: 20px;
      color: #007bff;
      text-decoration: underline;
      font-weight: bold;
      transition: color 0.2s ease;
    }
    .close:hover {
      color: #0056b3;
    }
  </style>
</head>
<body>
  <h1>My Grid Page</h1>
  <div class="grid" id="grid-container"></div>
  <div class="popup" id="popup">
    <div class="popup-content" id="popup-content"></div>
  </div>
  <script>
      // === ORIGINAL GRID FUNCTIONALITY ===
      const items = [
        { name: "Feed The Needy in Durham", image: "images/organizationlogo/feedtheneedy.jpg", description: "Feed the Need in Durham is a non-profit organization dedicated to alleviating hunger in the Durham region by providing nutritious food and support to individuals and families in need. Through community partnerships, food drives, and volunteer efforts, they strive to ensure that everyone has access to healthy meals and resources to enhance their well-being." },
        { name: "Item 2", image: "https://via.placeholder.com/400x300?text=Item+2", description: "This is the description for Item 2. It contains information relevant to its purpose and characteristics. Users can learn more about it here." },
        { name: "Item 3", image: "https://via.placeholder.com/400x300?text=Item+3", description: "This is the description for Item 3, highlighting its unique selling points and benefits. Discover what makes this item special." },
        { name: "Item 4", image: "https://via.placeholder.com/400x300?text=Item+4", description: "This is the description for Item 4, offering insights into its functionality and design. A comprehensive overview for interested users." },
        { name: "Item 5", image: "https://via.placeholder.com/400x300?text=Item+5", description: "This is the description for Item 5, detailing its specifications and applications. Find out how this item can meet your needs." },
        { name: "Item 6", image: "https://via.placeholder.com/400x300?text=Item+6", description: "This is the description for Item 6, providing a summary of its key attributes and advantages. Explore the possibilities with this item." }
      ];

      const grid = document.getElementById('grid-container');
      const popup = document.getElementById('popup');
      const popupContent = document.getElementById('popup-content');

      items.forEach(item => {
        const square = document.createElement('div');
        square.className = 'square';
        square.style.backgroundImage = `url('${item.image}')`;

        const content = document.createElement('div');
        content.className = 'square-content';
        content.textContent = item.name;

        square.appendChild(content);

        square.addEventListener('click', () => {
          popupContent.innerHTML = `
            <h2>${item.name}</h2>
            <img src="${item.image}" alt="${item.name} image" />
            <p>${item.description}</p>
            <div class='close'>Close</div>
          `;
          popup.classList.add('active');

          popupContent.querySelector('.close').addEventListener('click', () => {
            popup.classList.remove('active');
          });
        });

        grid.appendChild(square);
      });

      popup.addEventListener('click', (event) => {
        if (event.target === popup) {
          popup.classList.remove('active');
        }
      });

      // === STICKY HEADER FUNCTIONALITY ===
      document.addEventListener('DOMContentLoaded', function() {
          const header = document.getElementById('header');
          const body = document.body;
          const banner = document.getElementById('banner');

          // Ensure header has consistent structure
          function ensureConsistentHeader() {
              const existingHeader = document.getElementById('header');

              if (existingHeader) {
                  let nav = existingHeader.querySelector('#nav');
                  let mobileToggle = existingHeader.querySelector('#mobile-menu-toggle');

                  // If the header doesn't have the new nav structure, add it
                  if (!nav) {
                      // Remove old menu link if it exists
                      const oldMenuLink = existingHeader.querySelector('nav a[href="#menu"]');
                      if (oldMenuLink && oldMenuLink.parentNode) {
                          oldMenuLink.parentNode.remove();
                      }

                      // Add new navigation structure
                      const navHTML = `
                          <nav id="nav">
                              <ul class="links">
                                  <li><a href="index.html">Home</a></li>
                                  <li><a href="aboutus.html">About Us</a></li>
                                  <li><a href="opportunities.html">Opportunities</a></li>
                                  <li><a href="elements.html">Elements</a></li>
                              </ul>
                          </nav>
                      `;

                      // Add mobile menu toggle
                      const mobileToggleHTML = `
                          <a href="#mobile-menu" id="mobile-menu-toggle">
                              <span class="icon fa-bars"></span>
                          </a>
                      `;

                      existingHeader.insertAdjacentHTML('beforeend', navHTML);
                      existingHeader.insertAdjacentHTML('beforeend', mobileToggleHTML);
                  }
              }

              // Ensure mobile menu exists with consistent structure
              let mobileMenu = document.getElementById('mobile-menu');
              if (!mobileMenu) {
                  const mobileMenuHTML = `
                      <nav id="mobile-menu">
                          <div class="inner">
                              <h2>Menu</h2>
                              <ul class="links">
                                  <li><a href="index.html">Home</a></li>
                                  <li><a href="aboutus.html">About Us</a></li>
                                  <li><a href="opportunities.html">Opportunities</a></li>
                                  <li><a href="elements.html">Elements</a></li>
                              </ul>
                              <a href="#" class="close">Close</a>
                          </div>
                      </nav>
                  `;
                  body.insertAdjacentHTML('beforeend', mobileMenuHTML);
                  mobileMenu = document.getElementById('mobile-menu');
              }
          }

          // Make header sticky and always visible
          function makeHeaderSticky() {
              if (header) {
                  // Add sticky class to header
                  header.classList.add('is-sticky');
                  
                  // Add CSS for sticky behavior - preserve original dimensions
                  Object.assign(header.style, {
                      position: 'fixed',
                      top: '0',
                      left: '0',
                      right: '0',
                      zIndex: '10000',
                      backgroundColor: 'transparent',
                      transition: 'all 0.3s ease',
                      width: '100%',
                      boxSizing: 'border-box'
                  });

                  // Add margin to body to prevent content from hiding behind header
                  const headerHeight = header.offsetHeight;
                  body.style.marginTop = headerHeight + 'px';
                  
                  // Update margin when window resizes
                  window.addEventListener('resize', function() {
                      const newHeaderHeight = header.offsetHeight;
                      body.style.marginTop = newHeaderHeight + 'px';
                  });
              }
          }

          // Handle header background based on scroll position
          function handleHeaderScroll() {
              if (header && header.classList.contains('is-sticky')) {
                  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                  
                  if (scrollTop > 50) {
                      Object.assign(header.style, {
                          backgroundColor: '#1e3a8a',
                          boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)'
                      });
                  } else {
                      Object.assign(header.style, {
                          backgroundColor: 'transparent',
                          boxShadow: 'none'
                      });
                  }
              }
          }

          // Highlight active page in navigation
          function highlightActivePage() {
              const currentPage = window.location.pathname.split('/').pop() || 'index.html';
              
              // Remove active class from all nav links
              const navLinks = document.querySelectorAll('#nav a, #mobile-menu a');
              navLinks.forEach(link => link.classList.remove('active'));

              // Add active class to current page link
              const activeLinks = document.querySelectorAll(`#nav a[href="${currentPage}"], #mobile-menu a[href="${currentPage}"]`);
              activeLinks.forEach(link => link.classList.add('active'));
          }

          // Initialize header functionality
          ensureConsistentHeader();
          makeHeaderSticky();
          highlightActivePage();

          // Add scroll listener
          window.addEventListener('scroll', handleHeaderScroll);

          // Mobile menu functionality
          document.addEventListener('click', function(event) {
              const mobileMenu = document.getElementById('mobile-menu');
              const mobileToggle = document.getElementById('mobile-menu-toggle');

              // Mobile menu toggle
              if (event.target.matches('#mobile-menu-toggle, #mobile-menu-toggle *')) {
                  event.preventDefault();
                  event.stopPropagation();
                  mobileMenu.classList.toggle('is-visible');
                  mobileToggle.classList.toggle('is-active');
              }

              // Close mobile menu when clicking close button
              if (event.target.matches('#mobile-menu .close')) {
                  event.preventDefault();
                  mobileMenu.classList.remove('is-visible');
                  mobileToggle.classList.remove('is-active');
              }

              // Close mobile menu when clicking on a menu link
              if (event.target.matches('#mobile-menu a:not(.close)')) {
                  mobileMenu.classList.remove('is-visible');
                  mobileToggle.classList.remove('is-active');
              }

              // Close mobile menu when clicking outside
              if (!mobileMenu.contains(event.target) && !mobileToggle.contains(event.target)) {
                  mobileMenu.classList.remove('is-visible');
                  mobileToggle.classList.remove('is-active');
              }
          });

          // Close mobile menu on escape key
          document.addEventListener('keydown', function(event) {
              if (event.keyCode === 27) {
                  const mobileMenu = document.getElementById('mobile-menu');
                  const mobileToggle = document.getElementById('mobile-menu-toggle');
                  mobileMenu.classList.remove('is-visible');
                  mobileToggle.classList.remove('is-active');
              }
          });

          // Smooth scrolling for anchor links
          document.addEventListener('click', function(event) {
              if (event.target.matches('a[href^="#"]')) {
                  const targetId = event.target.getAttribute('href');
                  const target = document.querySelector(targetId);
                  if (target) {
                      event.preventDefault();
                      const headerHeight = header ? header.offsetHeight : 0;
                      const targetPosition = target.offsetTop - headerHeight;
                      window.scrollTo({
                          top: targetPosition,
                          behavior: 'smooth'
                      });
                  }
              }
          });
      });
  </script>
</body>
</html>

